---

## 📘 README – 8bit counter (Raspberry Pi)

이 Bash 스크립트는 라즈베리파이의 GPIO 핀을 사용하여 **0부터 7까지 이진수 방식으로 카운팅**하며, 각 비트 값을 3개의 LED를 통해 시각적으로 표현합니다.

LED는 1초 간격으로 켜졌다 꺼집니다.


---

### 🔌 사용 핀 (BCM 번호 기준)

| GPIO 번호 | 역할           | 이진수 자리 |
|------------|----------------|--------------|
| GPIO 4     | LSB (2⁰ 자리) | 오른쪽 비트 |
| GPIO 5     | 중간 비트 (2¹) | 중간 비트   |
| GPIO 6     | MSB (2² 자리) | 왼쪽 비트   |

---

### 🧠 코드 설명 (핵심 로직 단계별 설명)

#### 1. 사용 핀 배열 정의
```bash
PINS=(4 5 6)
```
- 사용할 3개의 GPIO 번호를 배열로 정의합니다.

#### 2. 핀 초기 설정
```bash
pinctrl set $p op
pinctrl set $p dl
```
- 각 핀을 출력 모드(`op`)로 설정하고 초기값을 Low(`dl`)로 설정하여 LED를 끕니다.

#### 3. 무한 루프로 카운트 시작
```bash
while true; do
```
- LED 카운터를 **영구 반복**하는 루프입니다.

#### 4. 0부터 7까지 숫자를 반복
```bash
for ((i=0; i<8; i++)); do
```
- 3비트로 표현 가능한 숫자 0~7까지 순차적으로 반복합니다.

#### 5. 각 숫자의 비트를 추출하여 핀에 출력
```bash
bit_val=$(( (i >> bit) & 1 ))
```
- 현재 숫자 `i`를 오른쪽으로 `bit`만큼 시프트하여 해당 비트를 LSB로 옮긴 뒤, `& 1`을 통해 해당 비트(0 또는 1)만 추출합니다.

#### 6. 추출된 비트값에 따라 LED ON/OFF
```bash
if [ "$bit_val" -eq 1 ]; then
    pinctrl set $gpio_num dh
else
    pinctrl set $gpio_num dl
fi
```
- 비트 값이 1이면 해당 GPIO 핀을 High(`dh`)로 설정하여 LED를 켜고, 0이면 Low(`dl`)로 꺼줍니다.

#### 7. 대기 시간
```bash
sleep 1
```
- 숫자 하나당 LED 패턴을 1초 동안 유지합니다.

---

### 🧪 예시 (i = 5 → 이진수 `101`)

| 비트 위치 | GPIO 핀 | 값 | 동작 |
|-----------|----------|-----|--------|
| 2⁰ (LSB)  | 4        | 1   | ON     |
| 2¹        | 5        | 0   | OFF    |
| 2² (MSB)  | 6        | 1   | ON     |

LED 3개가 **ON-OFF-ON**으로 점등됩니다.

---


